Commit: Fix: Simplifica configuração do EasyPanel - remove script problemático e usa npm install 
##########################################
### Download Github Archive Started...
### Sat, 22 Nov 2025 20:41:39 GMT
##########################################


╔════════ Nixpacks v1.34.1 ═══════╗
║ setup      │ nodejs_18, npm-9_x ║
║─────────────────────────────────║
║ install    │ npm install        ║
║─────────────────────────────────║
║ build      │ npm run build      ║
║─────────────────────────────────║
║ start      │ npm run start      ║
╚═════════════════════════════════╝


Saved output to:
  /etc/easypanel/projects/sites/xcloud/code/
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.32kB done
#1 DONE 0.0s

#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1741046653
#2 DONE 0.3s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [stage-0  1/10] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1741046653@sha256:ed406b77fb751927991b8655e76c33a4521c4957c2afeab293be7c63c2a373d2
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 1.95MB 0.0s done
#5 DONE 0.0s

#6 [stage-0  2/10] WORKDIR /app/
#6 CACHED

#7 [stage-0  3/10] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
#7 CACHED

#8 [stage-0  4/10] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
#8 CACHED

#9 [stage-0  5/10] COPY . /app/.
#9 DONE 0.0s

#10 [stage-0  6/10] RUN --mount=type=cache,id=OlwKWf4EZgI-/root/npm,target=/root/.npm npm install
#10 15.66 
#10 15.66 added 154 packages, and audited 155 packages in 16s
#10 15.66 
#10 15.66 26 packages are looking for funding
#10 15.66   run `npm fund` for details
#10 15.72 
#10 15.72 1 critical severity vulnerability
#10 15.72 
#10 15.72 To address all issues, run:
#10 15.72   npm audit fix --force
#10 15.72 
#10 15.72 Run `npm audit` for details.
#10 DONE 15.8s

#11 [stage-0  7/10] COPY . /app/.
#11 DONE 0.1s

#12 [stage-0  8/10] RUN --mount=type=cache,id=OlwKWf4EZgI-next/cache,target=/app/.next/cache --mount=type=cache,id=OlwKWf4EZgI-node_modules/cache,target=/app/node_modules/.cache npm run build
#12 0.296 
#12 0.296 > xcloudtv-site@0.1.0 build
#12 0.296 > next build
#12 0.296 
#12 0.702 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#12 0.702 This information is used to shape Next.js' roadmap and prioritize features.
#12 0.702 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#12 0.702 https://nextjs.org/telemetry
#12 0.702 
#12 0.752   ▲ Next.js 14.2.13
#12 0.752   - Experiments (use with caution):
#12 0.752     · typedRoutes
#12 0.752 
#12 0.787    Creating an optimized production build ...
#12 1.901  ⚠ For production Image Optimization with Next.js, the optional 'sharp' package is strongly recommended. Run 'npm i sharp', and Next.js will use it automatically for Image Optimization.
#12 1.901 Read more: https://nextjs.org/docs/messages/sharp-missing-in-production
#12 3.785 Failed to compile.
#12 3.785 
#12 3.786 ./app/contato/page.tsx
#12 3.786 Module not found: Can't resolve '@/components/ui/button'
#12 3.786 
#12 3.786 https://nextjs.org/docs/messages/module-not-found
#12 3.786 
#12 3.786 ./app/contato/page.tsx
#12 3.786 Module not found: Can't resolve '@/components/ui/input'
#12 3.786 
#12 3.786 https://nextjs.org/docs/messages/module-not-found
#12 3.786 
#12 3.786 ./app/contato/page.tsx
#12 3.786 Module not found: Can't resolve '@/components/ui/textarea'
#12 3.786 
#12 3.786 https://nextjs.org/docs/messages/module-not-found
#12 3.786 
#12 3.786 ./app/contato/page.tsx
#12 3.786 Module not found: Can't resolve '@/components/ui/label'
#12 3.786 
#12 3.786 https://nextjs.org/docs/messages/module-not-found
#12 3.786 
#12 3.786 ./app/contato/page.tsx
#12 3.786 Module not found: Can't resolve '@/components/ui/card'
#12 3.786 
#12 3.786 https://nextjs.org/docs/messages/module-not-found
#12 3.786 
#12 3.794 
#12 3.794 > Build failed because of webpack errors
#12 3.810 npm notice
#12 3.810 npm notice New major version of npm available! 10.8.2 -> 11.6.3
#12 3.810 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.3
#12 3.810 npm notice To update run: npm install -g npm@11.6.3
#12 3.810 npm notice
#12 ERROR: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
------
 > [stage-0  8/10] RUN --mount=type=cache,id=OlwKWf4EZgI-next/cache,target=/app/.next/cache --mount=type=cache,id=OlwKWf4EZgI-node_modules/cache,target=/app/node_modules/.cache npm run build:
3.786 
3.786 https://nextjs.org/docs/messages/module-not-found
3.786 
3.794 
3.794 > Build failed because of webpack errors
3.810 npm notice
3.810 npm notice New major version of npm available! 10.8.2 -> 11.6.3
3.810 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.3
3.810 npm notice To update run: npm install -g npm@11.6.3
3.810 npm notice
------

 5 warnings found (use docker --debug to expand):
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "JWT_SECRET") (line 12)
 - UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 18)
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "API_SECRET") (line 11)
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "JWT_SECRET") (line 11)
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "API_SECRET") (line 12)
Dockerfile:24
--------------------
  22 |     # build phase
  23 |     COPY . /app/.
  24 | >>> RUN --mount=type=cache,id=OlwKWf4EZgI-next/cache,target=/app/.next/cache --mount=type=cache,id=OlwKWf4EZgI-node_modules/cache,target=/app/node_modules/.cache npm run build
  25 |     
  26 |     
--------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c npm run build" did not complete successfully: exit code: 1
##########################################
### Error
### Sat, 22 Nov 2025 20:42:00 GMT
##########################################

Command failed with exit code 1: docker buildx build --network host -f /etc/easypanel/projects/sites/xcloud/code/.nixpacks/Dockerfile -t easypanel/sites/xcloud --label 'keep=true' --build-arg 'NODE_ENV=production' --build-arg 'PORT=3000' --build-arg 'NEXT_PUBLIC_SITE_URL=https://xcloudiptv.com.br' --build-arg 'JWT_SECRET=vL0JYeTfwFpVe914LirP6yU97WGxEcXg' --build-arg 'API_SECRET=fblnyqqqVuVD8Ldpc6pBa6DLj0AMop48' --build-arg 'NEXT_PUBLIC_GA_MEASUREMENT_ID=G-ZC4JVQZT13' --build-arg 'GIT_SHA=065005a0718c66a1e9237f23040825e197fba5bb' /etc/easypanel/projects/sites/xcloud/code/